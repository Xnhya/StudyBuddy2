<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reportes - Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div th:replace="fragments/header :: header"></div>
    
    <div class="container-fluid">
        <div class="row">
            <div th:replace="fragments/sidebar :: sidebar('admin')"></div>
            
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4">
                <!-- Messages -->
                <div th:replace="fragments/messages :: messages"></div>
                
                <!-- Page Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h2 class="text-warning">
                            <i class="fas fa-flag me-2"></i>Reportes del Sistema
                        </h2>
                        <p class="text-muted mb-0">Gestiona reportes y problemas reportados</p>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-outline-warning">
                            <i class="fas fa-filter me-2"></i> Filtrar
                        </button>
                        <button class="btn btn-warning">
                            <i class="fas fa-download me-2"></i> Generar Reporte
                        </button>
                    </div>
                </div>
                
                <!-- Reports Tabs -->
                <ul class="nav nav-tabs mb-4" id="reportsTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pending-tab" data-bs-toggle="tab" 
                                data-bs-target="#pending" type="button">
                            <i class="fas fa-clock me-2"></i>Pendientes
                            <span class="badge bg-danger ms-1">3</span>
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="review-tab" data-bs-toggle="tab" 
                                data-bs-target="#review" type="button">
                            <i class="fas fa-eye me-2"></i>En Revisión
                            <span class="badge bg-warning ms-1">2</span>
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="resolved-tab" data-bs-toggle="tab" 
                                data-bs-target="#resolved" type="button">
                            <i class="fas fa-check me-2"></i>Resueltos
                            <span class="badge bg-success ms-1">3</span>
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="all-tab" data-bs-toggle="tab" 
                                data-bs-target="#all" type="button">
                            <i class="fas fa-list me-2"></i>Todos los Reportes
                        </button>
                    </li>
                </ul>
                
                <div class="tab-content" id="reportsTabContent">
                    <!-- Pending Reports -->
                    <div class="tab-pane fade show active" id="pending" role="tabpanel">
                        <!-- Report 1 -->
                        <div class="card mb-3 border-danger">
                            <div class="card-header bg-danger text-white d-flex justify-content-between align-items-center">
                                <div>
                                    <strong>#REP-001</strong> - Contenido inapropiado
                                    <span class="badge bg-light text-danger ms-2">ALTA</span>
                                </div>
                                <small>Hace 2 horas</small>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-8">
                                        <p class="mb-2">
                                            <strong>Descripción:</strong> Usuario ha publicado contenido ofensivo en el grupo "Historia Universal"
                                        </p>
                                        <p class="mb-2">
                                            <strong>Reportado por:</strong> usuario123 (3 reportes anteriores)
                                        </p>
                                        <p class="mb-0">
                                            <strong>Usuario reportado:</strong> usuarionuevo (registrado hace 2 días)
                                        </p>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-outline-primary">
                                                <i class="fas fa-eye me-2"></i> Ver evidencia
                                            </button>
                                            <button class="btn btn-outline-warning">
                                                <i class="fas fa-comment me-2"></i> Contactar
                                            </button>
                                            <button class="btn btn-outline-danger">
                                                <i class="fas fa-ban me-2"></i> Bloquear usuario
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-white">
                                <div class="d-flex justify-content-end">
                                    <button class="btn btn-success btn-sm me-2">
                                        <i class="fas fa-check me-2"></i> Marcar como revisado
                                    </button>
                                    <button class="btn btn-danger btn-sm">
                                        <i class="fas fa-times me-2"></i> Descartar reporte
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Report 2 -->
                        <div class="card mb-3 border-warning">
                            <div class="card-header bg-warning text-white d-flex justify-content-between align-items-center">
                                <div>
                                    <strong>#REP-002</strong> - Spam en grupo
                                    <span class="badge bg-light text-warning ms-2">MEDIA</span>
                                </div>
                                <small>Hace 5 horas</small>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-8">
                                        <p class="mb-2">
                                            <strong>Descripción:</strong> Usuario envía mensajes publicitarios repetitivos
                                        </p>
                                        <p class="mb-2">
                                            <strong>Reportado por:</strong> moderador_ana
                                        </p>
                                        <p class="mb-0">
                                            <strong>Grupo afectado:</strong> Programación Java (15 miembros)
                                        </p>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-outline-primary">
                                                <i class="fas fa-eye me-2"></i> Ver mensajes
                                            </button>
                                            <button class="btn btn-outline-warning">
                                                <i class="fas fa-comment me-2"></i> Advertir usuario
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Report 3 -->
                        <div class="card mb-3 border-info">
                            <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
                                <div>
                                    <strong>#REP-003</strong> - Problema técnico
                                    <span class="badge bg-light text-info ms-2">BAJA</span>
                                </div>
                                <small>Ayer</small>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-8">
                                        <p class="mb-2">
                                            <strong>Descripción:</strong> Error al subir archivos PDF mayores a 5MB
                                        </p>
                                        <p class="mb-2">
                                            <strong>Reportado por:</strong> profesor_garcia
                                        </p>
                                        <p class="mb-0">
                                            <strong>Categoría:</strong> Error técnico / Bug
                                        </p>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-outline-primary">
                                                <i class="fas fa-bug me-2"></i> Ver detalles técnicos
                                            </button>
                                            <button class="btn btn-outline-success">
                                                <i class="fas fa-check me-2"></i> Marcar como conocido
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- In Review Reports -->
                    <div class="tab-pane fade" id="review" role="tabpanel">
                        <!-- Report 4 -->
                        <div class="card mb-3 border-primary">
                            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                                <div>
                                    <strong>#REP-004</strong> - Usuario sospechoso
                                    <span class="badge bg-light text-primary ms-2">EN REVISIÓN</span>
                                </div>
                                <small>Hace 1 día</small>
                            </div>
                            <div class="card-body">
                                <p>Usuario con múltiples cuentas detectado por sistema automatizado.</p>
                                <div class="d-flex justify-content-end">
                                    <button class="btn btn-success btn-sm me-2">
                                        <i class="fas fa-check me-2"></i> Confirmar
                                    </button>
                                    <button class="btn btn-danger btn-sm">
                                        <i class="fas fa-times me-2"></i> Falso positivo
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Report 5 -->
                        <div class="card mb-3 border-primary">
                            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                                <div>
                                    <strong>#REP-005</strong> - Copyright
                                    <span class="badge bg-light text-primary ms-2">EN REVISIÓN</span>
                                </div>
                                <small>Hace 2 días</small>
                            </div>
                            <div class="card-body">
                                <p>Material protegido por derechos de autor compartido sin permiso.</p>
                                <div class="d-flex justify-content-end">
                                    <button class="btn btn-success btn-sm me-2">
                                        <i class="fas fa-check me-2"></i> Eliminar contenido
                                    </button>
                                    <button class="btn btn-danger btn-sm">
                                        <i class="fas fa-times me-2"></i> Rechazar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Resolved Reports -->
                    <div class="tab-pane fade" id="resolved" role="tabpanel">
                        <div class="alert alert-success">
                            <i class="fas fa-check-circle me-2"></i>
                            <strong>3 reportes resueltos en los últimos 7 días</strong>
                        </div>
                        
                        <table class="table table-hover">
                            <thead class="table-success">
                                <tr>
                                    <th>ID</th>
                                    <th>Tipo</th>
                                    <th>Estado</th>
                                    <th>Resuelto por</th>
                                    <th>Fecha resolución</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#REP-006</td>
                                    <td>Comportamiento inapropiado</td>
                                    <td><span class="badge bg-success">Resuelto</span></td>
                                    <td>admin</td>
                                    <td>15/01/2024</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#REP-007</td>
                                    <td>Problema técnico</td>
                                    <td><span class="badge bg-success">Resuelto</span></td>
                                    <td>moderador_ana</td>
                                    <td>14/01/2024</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#REP-008</td>
                                    <td>Spam</td>
                                    <td><span class="badge bg-success">Resuelto</span></td>
                                    <td>admin</td>
                                    <td>13/01/2024</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- All Reports -->
                    <div class="tab-pane fade" id="all" role="tabpanel">
                        <div class="card">
                            <div class="card-header bg-white">
                                <h5 class="mb-0">Todos los Reportes</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Tipo</th>
                                                <th>Prioridad</th>
                                                <th>Estado</th>
                                                <th>Fecha</th>
                                                <th>Reportado por</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>#REP-001</td>
                                                <td>Contenido inapropiado</td>
                                                <td><span class="badge bg-danger">Alta</span></td>
                                                <td><span class="badge bg-warning">Pendiente</span></td>
                                                <td>Hoy</td>
                                                <td>usuario123</td>
                                            </tr>
                                            <tr>
                                                <td>#REP-002</td>
                                                <td>Spam</td>
                                                <td><span class="badge bg-warning">Media</span></td>
                                                <td><span class="badge bg-warning">Pendiente</span></td>
                                                <td>Hoy</td>
                                                <td>moderador_ana</td>
                                            </tr>
                                            <tr>
                                                <td>#REP-003</td>
                                                <td>Error técnico</td>
                                                <td><span class="badge bg-info">Baja</span></td>
                                                <td><span class="badge bg-warning">Pendiente</span></td>
                                                <td>Ayer</td>
                                                <td>profesor_garcia</td>
                                            </tr>
                                            <tr>
                                                <td>#REP-004</td>
                                                <td>Usuario sospechoso</td>
                                                <td><span class="badge bg-warning">Media</span></td>
                                                <td><span class="badge bg-primary">En revisión</span></td>
                                                <td>Hace 1 día</td>
                                                <td>Sistema</td>
                                            </tr>
                                            <tr>
                                                <td>#REP-005</td>
                                                <td>Copyright</td>
                                                <td><span class="badge bg-danger">Alta</span></td>
                                                <td><span class="badge bg-primary">En revisión</span></td>
                                                <td>Hace 2 días</td>
                                                <td>editorial_abc</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Statistics -->
                <div class="row mt-4">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h1 class="display-4 text-danger">8</h1>
                                <p class="text-muted">Reportes totales</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h1 class="display-4 text-warning">3</h1>
                                <p class="text-muted">Pendientes</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h1 class="display-4 text-success">3</h1>
                                <p class="text-muted">Resueltos (últimos 7 días)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <div th:replace="fragments/footer :: footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>